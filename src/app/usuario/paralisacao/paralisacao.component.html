<div class="container-fluid bg-escuro">
  <div class="row py-5 bg-cinza-fade">
    <div class="col-md-10 py-3 px-3 mx-auto">
      <div class="my-2">
        <button
          class="btn bg-ciano text-escuro"
          [routerLink]="['../dashboard']"
        >
          <i class="fas fa-tachometer-alt"></i>
          Voltar aos Fluxos
        </button>
      </div>

      <h2 class="text-center text-roxo titulo bg-escuro py-2">
        <span
          ><i class="fas fa-exclamation-triangle fa-sm"></i><br />Gerenciar
          Paralisações</span
        >
      </h2>

      <div class="row my-0 py-0 mx-0 py-0">
        <div class="area-form col-md-8 bg-escuro mt-3">
          <div class="input-group my-2">
            <div class="input-group-prepend">
              <label class="input-group-text text-roxo" for="dataparalisacao"
                >Data</label
              >
            </div>
            <input
              type="date"
              class="form-control"
              aria-label="Data Paralisacao"
              id="dataparalisacao"
              [(ngModel)]="this.data"
            />
            <!-- <div class="input-group-prepend">
              <button class="btn bg-cinza text-ciano">
                <i class="fas fa-edit"></i>
              </button>
            </div> -->
          </div>
          <div class="input-group my-5">
            <div class="input-group-prepend">
              <label class="input-group-text text-roxo" for="horainicio"
                >Início</label
              >
            </div>
            <input
              type="time"
              class="form-control"
              aria-label="Hora Inicio"
              id="horainicio"
              [(ngModel)]="this.inicio"
              step="2"
            />
            <!-- <div class="input-group-prepend">
              <button class="btn bg-cinza text-ciano">
                <i class="fas fa-edit"></i>
              </button>
            </div> -->
          </div>
          <div class="input-group my-5">
            <div class="input-group-prepend">
              <label class="input-group-text text-roxo" for="horatermino"
                >Término</label
              >
            </div>
            <input
              type="time"
              class="form-control"
              aria-label="Hora Término"
              id="horatermino"
              [(ngModel)]="this.termino"
              step="2"
            />
            <!-- <div class="input-group-prepend">
              <button class="btn bg-cinza text-ciano">
                <i class="fas fa-edit"></i>
              </button>
            </div> -->
          </div>
          <div class="input-group my-5">
            <div class="input-group-prepend">
              <label
                class="input-group-text text-roxo"
                for="veiculosparalisacao"
                >Quantidade de Veículos</label
              >
            </div>
            <input
              type="number"
              class="form-control"
              aria-label="Motivo"
              id="veiculosparalisacao"
              [(ngModel)]="this.veiculos"
            />
            <!-- <div class="input-group-prepend">
              <button class="btn bg-cinza text-ciano">
                <i class="fas fa-edit"></i>
              </button>
            </div> -->
          </div>
          <div class="input-group my-5">
            <div class="input-group-prepend">
              <label class="input-group-text text-roxo" for="descparalisacao"
                >Motivo</label
              >
            </div>
            <textarea
              class="form-control"
              id="descparalisacao"
              rows="5"
              [(ngModel)]="this.descricao"
            ></textarea>
            <!-- <div class="input-group-prepend">
              <button class="btn bg-cinza text-ciano">
                <i class="fas fa-edit"></i>
              </button>
            </div> -->
          </div>
          <div>
            <button
              type="button"
              class="btn bg-ciano btn-block col-md-8 mx-auto"
              data-toggle="modal"
              data-target="#confParalisa"
            >
              Salvar Alterações
            </button>
          </div>
        </div>
        <!-- Consulta -->
        <div class="area-form col mx-auto mt-3">
          <div class="mb-3 text-center">
            <h2 class="h4 text-ciano">Paralisações Informadas</h2>
          </div>

          <div
            class="card bg-cinza-fade"
            *ngFor="let paralisa of paralisacao.paralisacoes"
          >
            <div class="card-header text-center">
              <span><i class="fas fa-exclamation-circle text-ciano"></i></span>
            </div>
            <div class="card-body">
              <p class="text-claro">
                <span class="text-ciano"
                  ><i class="fas fa-calendar"></i> Data</span
                >
                {{ paralisa.data.replace('T00:00:00.000+00:00', '') }}
              </p>
              <p class="text-claro">
                <span class="text-ciano"
                  ><i class="fas fa-clock"></i> Duração</span
                >
                {{ paralisa.inicio }} às {{ paralisa.termino }}
              </p>
              <p class="text-claro">
                <span class="text-ciano"
                  ><i class="fas fa-tag"></i> Motivo</span
                >
                {{ paralisa.descricao }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="confParalisa"
  tabindex="-1"
  aria-labelledby="confParalisaLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-escuro">
        <p class="modal-title mx-auto text-claro" id="confParalisaLabel">
          <span class="mr-1"><i class="fas fa-exclamation-circle"></i></span>
          Confirmação de Paralisação
        </p>
      </div>
      <div class="modal-body">
        <p class="text-center text-escuro my-auto h5">
          Deseja incluir a paralisação?
        </p>
        <p class="text-escuro text-center my-2">
          Ao clicar em <strong>CONFIRMAR</strong> os dados cadastrados não
          poderão ser alterados
        </p>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn bg-cinza text-claro"
          data-dismiss="modal"
        >
          Fechar
        </button>
        <button
          type="button"
          class="btn bg-roxo text-claro"
          data-dismiss="modal"
          (click)="cadastrarParalisacao()"
        >
          Confirmar
        </button>
      </div>
    </div>
  </div>
</div>
